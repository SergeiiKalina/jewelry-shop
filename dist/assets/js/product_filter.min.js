const rangeFilter=document.querySelector("#sort-desc"),label=document.querySelector(".filter__price_label"),filterPage=document.querySelector(".filter"),filterBlock=document.querySelector(".filter_item"),filtBurger=document.querySelector(".filter_burger"),filterOpen=document.querySelector(".filter__block"),closeFilter=document.querySelector(".button__close"),labelOne=(label.addEventListener("click",()=>{label.classList.toggle("activ")}),document.querySelector(".filter__price_label1")),select=(labelOne.addEventListener("click",()=>{labelOne.classList.toggle("activ")}),document.querySelectorAll(".filter__select"));for(let e of select)e.onclick=function(){e.classList.toggle("activ")};const range=document.querySelectorAll(".range-slider input");progress=document.querySelector(".range-slider .progress");let gap=10;const inputValue=document.querySelectorAll(".numberVal input"),veivProduct=document.querySelector(".button__done"),filteItem=(range.forEach(e=>{e.addEventListener("input",e=>{var t=parseInt(range[0].value),r=parseInt(range[1].value);document.querySelector("#nav");r-t<gap?"range-min"===e.target.className?range[0].value=r-gap:range[1].value=t+gap:(progress.style.left=t/range[0].max*100+"%",progress.style.right=100-r/range[1].max*100+"%",inputValue[0].value=t,inputValue[1].value=r)})}),veivProduct.addEventListener("click",()=>{filterOpen.classList.add("hidden"),filtBurger.classList.remove("activ"),document.body.classList.remove("lock")}),document.querySelectorAll(".product_block_item")),focusItem=document.querySelectorAll(".proudct__focus");for(let t of filteItem)t.addEventListener("click",()=>{for(var e of focusItem)e.classList.remove("activ");t.children[0].children[3].classList.add("activ")});function mySort(){var r=document.querySelector("#nav");for(let t=0;t<r.children.length;t++)for(let e=t;e<r.children.length;e++)+r.children[t].getAttribute("data-price")>+r.children[e].getAttribute("data-price")&&insertAfter(replacedNode=r.replaceChild(r.children[e],r.children[t]),r.children[t])}function myReversSort(){var r=document.querySelector("#nav");for(let t=0;t<r.children.length;t++)for(let e=t;e<r.children.length;e++)+r.children[t].getAttribute("data-price")<+r.children[e].getAttribute("data-price")&&insertAfter(replacedNode=r.replaceChild(r.children[e],r.children[t]),r.children[t])}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSubling)}label.addEventListener("click",()=>{console.log("Sort"),mySort()}),labelOne.addEventListener("click",()=>{console.log("revers"),myReversSort()});const filterHidden=document.querySelector(".filter__block"),filterItem=document.querySelector(".filter_item");function cardGeneration(t){var r=[];for(let e=0;e<t.length;e++)r.push(`<div class="product_block_item" data-price="${t[e].price}" data-category="${t[e].category}" data-brands="${t[e].brands}">
                <div class="product__block_img"><img src=${t[e].pictures}>
                    <div class="product__hover">
                    <button>ADD TO CART</button>
                </div>
                <div class="proudct__focus">
                    <div class="product__focus_img">
                     <div class="focus_img_bascet">
                         <img src="assets/images/icon/basket_icon_black.png" alt="">
                         <div class="focus_img_circle">
                             <div class="focus_img_circle1"></div><div class="focus_img_circle1"></div>
                         </div>
                     </div>
                     <div class="focus_img_eys">
                     <input type="number" value="1" class="card_quantity card__hidden" data-price="" disabled>1</input>
                        <img src="assets/images/icon/eys.png" alt="">
                            <div class="eys_circle"></div>
                     </div>
                     <div class="focus_img_heart">
                        <img src="assets/images/icon/heart.png" alt="">
                     </div>
                    </div>
                 </div></div>
                <p class="product_block_item_name">${t[e].title}</p>
                <p class="product_block_item_price">${t[e].cost}</p>
            </div>`);return r}filtBurger.addEventListener("click",()=>{filtBurger.classList.toggle("activ"),filterOpen.classList.toggle("hidden"),document.body.classList.toggle("lock"),filterHidden.classList.add("lock"),filterItem.classList.add("lock"),console.log(filtBurger)}),closeFilter.addEventListener("click",()=>{filterOpen.classList.add("hidden"),filtBurger.classList.remove("activ"),document.body.classList.remove("lock"),filterHidden.classList.remove("lock"),filterItem.classList.remove("lock")});const cardArr=cardGeneration(cardsData),form=(nav.innerHTML=cardArr.join(""),document.querySelector("form")),filters=(veivProduct.addEventListener("click",e=>{e.preventDefault(),filterProducts()}),rangeFilter.addEventListener("click",filterProducts),{priceMin:(e,t)=>Number(form.priceMin.value)<=Number(e.dataset.price),priceMax:(e,t)=>Number(form.priceMax.value)>=Number(e.dataset.price),category:(e,t)=>e.dataset.category===t,brands:(e,t)=>e.dataset.brands===t}),products=[...document.querySelectorAll(".product_block_item")],getFilterValues=e=>{var t,r,c={};for([t,r]of new FormData(e))c[t]=r;return c};function filterProducts(){const c=getFilterValues(form);products.forEach(r=>{var e=Object.entries(filters).filter(([e])=>c[e]).every(([e,t])=>t(r,c[e]));r.style.display=e?"block":"none"})}let searchValue="";const search=document.querySelector(".filter__head_search a"),searchInput=document.querySelector(".filter__head_search input");function fulterSearch(){var e=cardGeneration(cardsData.filter(e=>{return!!new RegExp(searchValue,"i").test(e.title)}));nav.innerHTML=e.join("")}function ready(){for(let e=0;e<nav.children.length;e++)nav.children[e].getAttribute("data-sale")&&(nav.children[e].children[0].children[1].style.display="flex",nav.children[e].children[0].children[1].innerHTML=`- ${nav.children[e].getAttribute("data-sale")}%`),nav.children[e].getAttribute("data-sale")}searchInput.oninput=function(e){searchValue=e.target.value},search.addEventListener("click",e=>{e.preventDefault(),fulterSearch()}),document.addEventListener("DOMContentLoaded",ready);