const rangeFilter=document.querySelector("#sort-desc"),label=document.querySelector(".filter__price_label"),filterPage=document.querySelector(".filter"),filterBlock=document.querySelector(".filter_item"),filtBurger=document.querySelector(".filter_burger"),filterOpen=document.querySelector(".filter__block"),closeFilter=document.querySelector(".button__close"),labelOne=(label.addEventListener("click",()=>{label.classList.toggle("activ")}),document.querySelector(".filter__price_label1")),select=(labelOne.addEventListener("click",()=>{labelOne.classList.toggle("activ")}),document.querySelectorAll(".filter__select"));for(let e of select)e.onclick=function(){e.classList.toggle("activ")};const range=document.querySelectorAll(".range-slider input");progress=document.querySelector(".range-slider .progress");let gap=10;const inputValue=document.querySelectorAll(".numberVal input"),veivProduct=document.querySelector(".button__done"),filteItem=(range.forEach(e=>{e.addEventListener("input",e=>{var t=parseInt(range[0].value),l=parseInt(range[1].value);document.querySelector("#nav");l-t<gap?"range-min"===e.target.className?range[0].value=l-gap:range[1].value=t+gap:(progress.style.left=t/range[0].max*100+"%",progress.style.right=100-l/range[1].max*100+"%",inputValue[0].value=t,inputValue[1].value=l)})}),veivProduct.addEventListener("click",()=>{filterOpen.classList.add("hidden"),filtBurger.classList.remove("activ"),document.body.classList.remove("lock")}),document.querySelectorAll(".product_block_item")),focusItem=document.querySelectorAll(".proudct__focus");for(let t of filteItem)t.addEventListener("click",()=>{for(var e of focusItem)e.classList.remove("activ");t.children[0].children[3].classList.add("activ")});function mySort(){var l=document.querySelector("#nav");for(let t=0;t<l.children.length;t++)for(let e=t;e<l.children.length;e++)+l.children[t].getAttribute("data-price")>+l.children[e].getAttribute("data-price")&&insertAfter(replacedNode=l.replaceChild(l.children[e],l.children[t]),l.children[t])}function myReversSort(){var l=document.querySelector("#nav");for(let t=0;t<l.children.length;t++)for(let e=t;e<l.children.length;e++)+l.children[t].getAttribute("data-price")<+l.children[e].getAttribute("data-price")&&insertAfter(replacedNode=l.replaceChild(l.children[e],l.children[t]),l.children[t])}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSubling)}label.addEventListener("click",()=>{console.log("Sort"),mySort()}),labelOne.addEventListener("click",()=>{console.log("revers"),myReversSort()});const filterHidden=document.querySelector(".filter__block"),filterItem=document.querySelector(".filter_item");function cardGeneration(t){var l=[];for(let e=0;e<t.length;e++)l.push(`<div class="product_block_item" data-price="${t[e].price}" data-category="${t[e].category}" data-brands="${t[e].brands}">
                <div class="product__block_img"><img src=${t[e].pictures}>
                    <div class="product__hover">
                    <button>ADD TO CART</button>
                </div>
                <div class="proudct__focus">
                    <div class="product__focus_img">
                     <div class="focus_img_bascet">
                         <img src="assets/images/icon/basket_icon_black.png" alt="">
                         <div class="focus_img_circle">
                             <div class="focus_img_circle1"></div><div class="focus_img_circle1"></div>
                         </div>
                     </div>
                     <div class="focus_img_eys">
                     <input type="number" value="1" class="card_quantity card__hidden" data-price="" disabled>1</input>
                        <img src="assets/images/icon/eys.png" alt="">
                            <div class="eys_circle"></div>
                     </div>
                     <div class="focus_img_heart">
                        <img src="assets/images/icon/heart.png" alt="">
                     </div>
                    </div>
                 </div></div>
                <p class="product_block_item_name">${t[e].title}</p>
                <p class="product_block_item_price">${t[e].cost}</p>
            </div>`);return l}filtBurger.addEventListener("click",()=>{filtBurger.classList.toggle("activ"),filterOpen.classList.toggle("hidden"),document.body.classList.toggle("lock"),filterHidden.classList.add("lock"),filterItem.classList.add("lock"),console.log(filtBurger)}),closeFilter.addEventListener("click",()=>{filterOpen.classList.add("hidden"),filtBurger.classList.remove("activ"),document.body.classList.remove("lock"),filterHidden.classList.remove("lock"),filterItem.classList.remove("lock")});const cardArr=cardGeneration(cardsData),form=(nav.innerHTML=cardArr.join(""),document.querySelector("form")),filters=(veivProduct.addEventListener("click",e=>{e.preventDefault(),filterProducts()}),rangeFilter.addEventListener("click",filterProducts),{priceMin:(e,t)=>Number(form.priceMin.value)<=Number(e.dataset.price),priceMax:(e,t)=>Number(form.priceMax.value)>=Number(e.dataset.price),category:(e,t)=>e.dataset.category===t,brands:(e,t)=>e.dataset.brands===t}),products=[...document.querySelectorAll(".product_block_item")],getFilterValues=e=>{var t,l,r={};for([t,l]of new FormData(e))r[t]=l;return r};function filterProducts(){const r=getFilterValues(form);products.forEach(l=>{var e=Object.entries(filters).filter(([e])=>r[e]).every(([e,t])=>t(l,r[e]));l.style.display=e?"block":"none"})}let searchValue="";const search=document.querySelector(".filter__head_search a"),searchInput=document.querySelector(".filter__head_search input");function fulterSearch(){var e=cardGeneration(cardsData.filter(e=>{return!!new RegExp(searchValue,"i").test(e.title)}));nav.innerHTML=e.join("")}function ready(){for(let e=0;e<nav.children.length;e++)nav.children[e].getAttribute("data-sale")&&(nav.children[e].children[0].children[1].style.display="flex",nav.children[e].children[0].children[1].innerHTML=`- ${nav.children[e].getAttribute("data-sale")}%`),nav.children[e].getAttribute("data-sale")}searchInput.oninput=function(e){searchValue=e.target.value},search.addEventListener("click",e=>{e.preventDefault(),fulterSearch()}),document.addEventListener("DOMContentLoaded",ready),blog.addEventListener("click",()=>{document.querySelector(".blog_sublist").classList.toggle("activ")});const sublistBtn=document.querySelectorAll(".subblist_button"),initialBlog=(sublistBtn.forEach(e=>{e.addEventListener("click",e=>{e=e.target;e.closest(".blog_standard")&&(document.querySelector(".post_sublist").classList.remove("activ"),document.querySelector(".standard_sublist").classList.add("activ")),e.closest(".blog_post")&&(document.querySelector(".standard_sublist").classList.remove("activ"),document.querySelector(".post_sublist").classList.add("activ"))})}),rightSideBar.addEventListener("click",()=>{localStorage.removeItem("blog");let e=generatorContentBlogRight();(e=e.trim()).length&&localStorage.setItem("blog",e)}),leftSideBar.addEventListener("click",()=>{localStorage.removeItem("blog");let e=generatorContentBlogLeft();(e=e.trim()).length&&localStorage.setItem("blog",e)}),blogMasonry.addEventListener("click",()=>{localStorage.removeItem("blog");let e=generatorContentBlogMasonry();(e=e.trim()).length&&localStorage.setItem("blog",e)}),withoutSidebar.addEventListener("click",()=>{localStorage.removeItem("blog");let e=generatorContentBlogwithoutSidebar();(e=e.trim()).length&&localStorage.setItem("blog",e)}),()=>{document.querySelector(".blog_body")&&null!==localStorage.getItem("blog")&&(document.querySelector(".blog_body").innerHTML=localStorage.getItem("blog"))});function generatorContentBlogwithoutSidebar(){return`
            <div class="sidebar">
            <h3>Blog</h3>
            <nav class="sidebar_none">
            <div class="filter__head_search"><input type="search" placeholder="Search..."><a href="#" class="search_Button"></a></div>
            <ul>
                <li>Categories</li>
                <li>Fashion</li>
                <li>Style</li>
                <li>Accessories</li>
                <li>Season</li>
            </ul></nav>
        </div>
            <div class="blog_content">
            <div class="blog_items one">
                
            </div>
            <div class="pagination">
                <ul>
                    
                    
                </ul>
            </div>
            </div>
         
            `}function generatorContentBlogMasonry(){return`
            <div class="sidebar">
            <h3>Blog</h3>
            <nav>
            <div class="filter__head_search"><input type="search" placeholder="Search..."><a href="#" class="search_Button"></a></div>
            <ul>
                <li>Categories</li>
                <li>Fashion</li>
                <li>Style</li>
                <li>Accessories</li>
                <li>Season</li>
            </ul></nav>
        </div>
            <div class="blog_content">
            <div class="blog_items">
                
            </div>
            <div class="pagination">
                <ul>
                    
                    
                </ul>
            </div>
            </div>
         
            `}function generatorContentBlogLeft(){return`
            <div class="sidebar">
            <h3>Blog</h3>
            <nav>
            <div class="filter__head_search"><input type="search" placeholder="Search..."><a href="#" class="search_Button"></a></div>
            <ul>
                <li>Categories</li>
                <li>Fashion</li>
                <li>Style</li>
                <li>Accessories</li>
                <li>Season</li>
            </ul></nav>
        </div>
            <div class="blog_content">
            <div class="blog_items one">
                
            </div>
            <div class="pagination">
                <ul>
                    
                    
                </ul>
            </div>
            </div>
         
            `}function generatorContentBlogRight(){return`
        <div class="blog_content">
        <div class="blog_items one">
            
        </div>
        <div class="pagination">
            <ul>
                
                
            </ul>
        </div>
        </div>
        <div class="sidebar_right">
            <h3>Blog</h3>
            <nav>
            <div class="filter__head_search"><input type="search" placeholder="Search..."><a href="#" class="search_Button"></a></div>
            <ul>
                <li>Categories</li>
                <li>Fashion</li>
                <li>Style</li>
                <li>Accessories</li>
                <li>Season</li>
            </ul></nav>
        </div>
        `}initialBlog();