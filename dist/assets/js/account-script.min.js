const btnAccount=document.querySelectorAll(".account_tabs_item"),bag=(btnAccount.forEach(c=>{c.addEventListener("click",t=>{btnAccount.forEach(t=>t.classList.remove("activ")),t.preventDefault();var t=t.target,e=(c.classList.add("activ"),document.querySelector(".register")),a=document.querySelector(".singin");t.closest(".singin_tab")&&(e.classList.remove("activ"),a.classList.add("activ")),t.closest(".register_tab")&&(a.classList.remove("activ"),e.classList.add("activ"))})}),document.querySelector(".account_tabs_item").click(),document.querySelector(".basket")),bagBlock=document.querySelector(".bag"),basketcardQuantity=(document.addEventListener("click",t=>{t=t.target;t.closest(".fuck_basket")?bagBlock.classList.add("activ"):t.closest(".card_block_hidden")||t.closest(".bag")||bagBlock.classList.remove("activ")}),document.querySelector(".basket_quantity")),bagQuntity=document.querySelector(".bag_footer_itemquantity span"),bagHeadquntity=document.querySelector(".bag_quantity_item"),pricequantity=()=>{var t=document.querySelector(".block__cards").children.length;basketcardQuantity.textContent=t,bagQuntity.textContent=`(${t} items)`,bagHeadquntity.textContent=t+" items",0<t?basketcardQuantity.classList.add("activ"):basketcardQuantity.classList.remove("activ")},bagItem=document.querySelector(".block__cards"),initialState=(bagItem.addEventListener("click",t=>{"card_block_hidden"==t.target.className&&(t.target.closest(".basket_card_item").remove(),updateStorege(),pricequantity())}),()=>{null!==localStorage.getItem("product")&&(document.querySelector(".block__cards").innerHTML=localStorage.getItem("product"),pricequantity())}),getSubTotalCost=(initialState(),t=>Number(t.value)*Number(t.dataset.price)),totaPriceWrapper=document.querySelector(".bag_footer_totalcost"),ACTION={PLUS:"plus",MINUS:"minus"},setTotalPrice=t=>{totaPriceWrapper.textContent=`$${t},00`,totaPriceWrapper.dataset.value=t},init=()=>{let e=0;[...document.querySelectorAll(".basket_card_item")].forEach(t=>{e+=getSubTotalCost(t.querySelector(".card_quantity"))}),setTotalPrice(e)},calcSeparItem=(t,e)=>{var a=t.querySelector(".card_quantity");switch(e){case ACTION.PLUS:a.value++,a.value=a.value,setTotalPrice(Number(totaPriceWrapper.dataset.value)+Number(a.dataset.price));break;case ACTION.MINUS:a.value--,setTotalPrice(Number(totaPriceWrapper.dataset.value)-Number(a.dataset.price))}t.querySelector(".basket_card_price").textContent=`$${getSubTotalCost(a)},00`},searchButton=(document.querySelector(".block__cards").addEventListener("click",t=>{var e;t.target.classList.contains("minus")&&(e=t.target.closest(".basket_card_item").querySelector(".card_quantity"),0!==Number(e.value))&&calcSeparItem(t.target.closest(".basket_card_item"),ACTION.MINUS),t.target.classList.contains("plus")&&calcSeparItem(t.target.closest(".basket_card_item"),ACTION.PLUS)}),document.querySelector(".search__img")),sublistBtn=(searchButton.addEventListener("click",()=>{document.querySelector(".search_block").classList.toggle("activ")}),blog.addEventListener("click",()=>{document.querySelector(".blog_sublist").classList.toggle("activ")}),document.querySelectorAll(".subblist_button"));sublistBtn.forEach(t=>{t.addEventListener("click",t=>{t=t.target;t.closest(".blog_standard")&&(document.querySelector(".post_sublist").classList.remove("activ"),document.querySelector(".standard_sublist").classList.add("activ")),t.closest(".blog_post")&&(document.querySelector(".standard_sublist").classList.remove("activ"),document.querySelector(".post_sublist").classList.add("activ"))})}),document.querySelector(".fuck_basket").addEventListener("click",init());