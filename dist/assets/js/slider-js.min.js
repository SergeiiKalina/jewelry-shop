document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{new Swiper(".swiper",{})},1e3)});const cardInitialState=()=>{null!==localStorage.getItem("item")&&(document.querySelector(".previy__slider__block").innerHTML=localStorage.getItem("item"))},burger=(cardInitialState(),document.querySelector(".menu__icon")),previy=document.querySelector(".block1__previy"),imgVeiw=document.querySelector(".gallery-slide img"),progressGallery=document.querySelector(".gallery_progress");function veiwImg(){imgVeiw.src=previy.children[0].children[0].src}veiwImg(),previy.addEventListener("click",e=>{e.target===previy.children[0].children[0]&&(progressGallery.style.width="25%"),e.target===previy.children[1].children[0]&&(progressGallery.style.width="50%"),e.target===previy.children[2].children[0]&&(progressGallery.style.width="75%"),e.target===previy.children[3].children[0]&&(progressGallery.style.width="100%");var e=e.target;"IMG"==e.tagName&&(e=e.src,imgVeiw.src=e)});const header=document.querySelector(".header__block"),subMenu=document.querySelector(".menu__sublist_block"),shop=document.getElementById("shop"),previyBlock=document.querySelector(".product_previy"),getSubTotalCost=(document.addEventListener("click",e=>{e=e.target;e.closest(".menu__sublist")?(subMenu.classList.add("activ"),header.classList.add("activ"),shop.classList.add("activ"),previyBlock.classList.add("activ")):e.closest(".menu__sublist_block")||e.closest(".menu__sublist_block")||(subMenu.classList.remove("activ"),header.classList.remove("activ"),shop.classList.remove("activ"),previyBlock.classList.remove("activ"))}),burger.addEventListener("click",()=>{var e=document.querySelector(".menu__body");document.body.classList.toggle("lock"),e.classList.toggle("hidden"),burger.classList.toggle("activ"),e.classList.toggle("activ")}),e=>Number(e.value)*Number(e.dataset.price)),totaPriceWrapper=document.querySelector(".previy_block1_price"),ACTION={PLUS:"plus",MINUS:"minus"},setTotalPrice=e=>{totaPriceWrapper.textContent=`$${e},00`,totaPriceWrapper.dataset.value=e},init=()=>{let t=0;[...document.querySelectorAll(".previy_block1_info")].forEach(e=>{t+=getSubTotalCost(e.querySelector(".card_quantity"))}),setTotalPrice(t)},calcSeparItem=(e,t)=>{var r=e.querySelector(".card_quantity");switch(t){case ACTION.PLUS:r.value++,setTotalPrice(Number(totaPriceWrapper.dataset.value)+Number(r.dataset.price));break;case ACTION.MINUS:r.value--,setTotalPrice(Number(totaPriceWrapper.dataset.value)-Number(r.dataset.price))}e.querySelector(".previy_block1_price").textContent=`$${getSubTotalCost(r)},00`},basketcardQuantity=(document.querySelector(".previy_block1_info").addEventListener("click",e=>{var t;e.target.classList.contains("minus")&&(t=e.target.closest(".previy_block1_info").querySelector(".card_quantity"),0!==Number(t.value))&&calcSeparItem(e.target.closest(".previy_block1_info"),ACTION.MINUS),e.target.classList.contains("plus")&&calcSeparItem(e.target.closest(".previy_block1_info"),ACTION.PLUS)}),document.querySelector(".basket_quantity")),productBtn=document.querySelectorAll(".previy_block1_button"),cardProductList=document.querySelector(".cards_body_block"),basketcard=document.querySelector(".basket"),randomId=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),generateCardProduct=(e,t,r,c,a,i)=>`
    <div class="basket_card_item" data-id="${c}">
    <div class="basket_card_img"><img src="${e}" alt="" width='136' hight='136'></div>
    <div class="basket_card_nameandvalue">
    <div class="basket_card_value">
        <div class="basket_card_name">${t}</div>
        <div class="basket_card_params">Black / Medium</div>
        <div class="basket_card_price">${r}</div>
    </div>
    <div class="basket-card_quantity">
    <div class="bag_qty">QTY:</div>
        <button class="card_button minus">-</button>
        <input type="number" value="${i}" class="card_quantity" data-price="${a}" disabled></input>
        <button class="card_button plus">+</button>
    </div></div>
    <div class="card_block_hidden">âœ–</div>
    </div>
    `,bagQuntity=document.querySelector(".bag_footer_itemquantity span"),bagHeadquntity=document.querySelector(".bag_quantity_item"),pricequantity=()=>{var e=document.querySelector(".block__cards").children.length;basketcardQuantity.textContent=e,bagQuntity.textContent=`(${e} items)`,bagHeadquntity.textContent=e+" items",0<e?basketcardQuantity.classList.add("activ"):basketcardQuantity.classList.remove("activ")},initialState=()=>{null!==localStorage.getItem("product")&&(document.querySelector(".block__cards").innerHTML=localStorage.getItem("product"),pricequantity())},updateStorege=(initialState(),()=>{let e=document.querySelector(".block__cards").innerHTML;(e=e.trim()).length?localStorage.setItem("product",e):localStorage.removeItem("product")}),star=(productBtn.forEach(e=>{e.closest(".product_previy").setAttribute("data-id",randomId()),e.addEventListener("click",e=>{e.preventDefault();var e=e.currentTarget,t=e.closest(".product_previy"),r=t.dataset.id,c=t.querySelector(".gallery-slide img").getAttribute("src"),a=t.querySelector(".previy_block1_title").textContent,i=t.querySelector(".previy_block1_price").textContent,l=t.querySelector(".card_quantity").value,t=t.dataset.price;document.querySelector(".block__cards").insertAdjacentHTML("afterbegin",generateCardProduct(c,a,i,r,t,l)),pricequantity(),updateStorege(),e.disabled=!0})}),document.querySelector(".previy_block1_stars")),triggerItem=(star.addEventListener("click",e=>{e=e.target;for(let e=0;e<=4;e++)star.children[e].style.color="black";if(e===star.children[0]&&(star.children[0].style.color="gold"),e===star.children[1])for(let e=0;e<=1;e++)star.children[e].style.color="gold";if(e===star.children[2])for(let e=0;e<=2;e++)star.children[e].style.color="gold";if(e===star.children[3])for(let e=0;e<=3;e++)star.children[e].style.color="gold";if(e===star.children[4])for(let e=0;e<=4;e++)star.children[e].style.color="gold"}),document.querySelectorAll(".tabs-trigger__item").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();e=e.target.getAttribute("href").replace("#","");document.querySelectorAll(".tabs-trigger__item").forEach(e=>e.classList.remove("tabs-trigger__item--activ")),document.querySelectorAll(".tabs-content__item").forEach(e=>e.classList.remove("tabs-content__item--activ")),t.classList.add("tabs-trigger__item--activ"),document.getElementById(e).classList.add("tabs-content__item--activ")})}),document.querySelector(".tabs-trigger__item").click(),document.querySelectorAll(".tabs-trigger__item")),txtBtn=(triggerItem.forEach(e=>{e.addEventListener("click",e=>{var t,r,e=e.target,c=document.querySelectorAll(".tabs-txt__item");for(t of document.querySelectorAll(".tabs-trigger__block"))t.classList.remove("activ");for(r of c)r.classList.remove("activ");c=e.closest(".tabs-trigger__block");c.querySelector(".tabs-txt__item").classList.add("activ"),c.classList.add("activ"),console.log(c)})}),document.getElementById("dotsbtn"));txtBtn.addEventListener("click",()=>{var e=document.querySelector(".more"),t=document.querySelector(".dots");e.classList.toggle("activ"),t.classList.toggle("activ")});