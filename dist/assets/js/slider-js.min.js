document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{new Swiper(".swiper",{})},1e3)});const cardInitialState=()=>{null!==localStorage.getItem("item")&&(document.querySelector(".previy__slider__block").innerHTML=localStorage.getItem("item"))},burger=(cardInitialState(),document.querySelector(".menu__icon")),previy=document.querySelector(".block1__previy"),imgVeiw=document.querySelector(".gallery-slide img"),progressGallery=document.querySelector(".gallery_progress");function veiwImg(){imgVeiw.src=previy.children[0].children[0].src}veiwImg(),previy.addEventListener("click",e=>{e.target===previy.children[0].children[0]&&(progressGallery.style.width="25%"),e.target===previy.children[1].children[0]&&(progressGallery.style.width="50%"),e.target===previy.children[2].children[0]&&(progressGallery.style.width="75%"),e.target===previy.children[3].children[0]&&(progressGallery.style.width="100%");var e=e.target;"IMG"==e.tagName&&(e=e.src,imgVeiw.src=e)});const header=document.querySelector(".header__block"),subMenu=document.querySelector(".menu__sublist_block"),shop=document.getElementById("shop"),previyBlock=document.querySelector(".product_previy"),getSubTotalCost=(document.addEventListener("click",e=>{e=e.target;e.closest(".menu__sublist")?(subMenu.classList.add("activ"),header.classList.add("activ"),shop.classList.add("activ"),previyBlock.classList.add("activ")):e.closest(".menu__sublist_block")||e.closest(".menu__sublist_block")||(subMenu.classList.remove("activ"),header.classList.remove("activ"),shop.classList.remove("activ"),previyBlock.classList.remove("activ"))}),burger.addEventListener("click",()=>{var e=document.querySelector(".menu__body");document.body.classList.toggle("lock"),e.classList.toggle("hidden"),burger.classList.toggle("activ"),e.classList.toggle("activ")}),e=>Number(e.value)*Number(e.dataset.price)),totaPriceWrapper=document.querySelector(".previy_block1_price"),ACTION={PLUS:"plus",MINUS:"minus"},setTotalPrice=e=>{totaPriceWrapper.textContent=`$${e},00`,totaPriceWrapper.dataset.value=e},init=()=>{let t=0;[...document.querySelectorAll(".previy_block1_info")].forEach(e=>{t+=getSubTotalCost(e.querySelector(".card_quantity"))}),setTotalPrice(t)},calcSeparItem=(e,t)=>{var r=e.querySelector(".card_quantity");switch(t){case ACTION.PLUS:r.value++,setTotalPrice(Number(totaPriceWrapper.dataset.value)+Number(r.dataset.price));break;case ACTION.MINUS:r.value--,setTotalPrice(Number(totaPriceWrapper.dataset.value)-Number(r.dataset.price))}e.querySelector(".previy_block1_price").textContent=`$${getSubTotalCost(r)},00`},basketcardQuantity=(document.querySelector(".previy_block1_info").addEventListener("click",e=>{var t;e.target.classList.contains("minus")&&(t=e.target.closest(".previy_block1_info").querySelector(".card_quantity"),0!==Number(t.value))&&calcSeparItem(e.target.closest(".previy_block1_info"),ACTION.MINUS),e.target.classList.contains("plus")&&calcSeparItem(e.target.closest(".previy_block1_info"),ACTION.PLUS)}),document.querySelector(".basket_quantity")),productBtn=document.querySelectorAll(".previy_block1_button"),cardProductList=document.querySelector(".cards_body_block"),basketcard=document.querySelector(".basket"),randomId=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),generateCardProduct=(e,t,r,a,c,i)=>`
    <div class="basket_card_item" data-id="${a}">
    <div class="basket_card_img"><img src="${e}" alt="" width='136' hight='136'></div>
    <div class="basket_card_nameandvalue">
    <div class="basket_card_value">
        <div class="basket_card_name">${t}</div>
        <div class="basket_card_params">Black / Medium</div>
        <div class="basket_card_price">${r}</div>
    </div>
    <div class="basket-card_quantity">
    <div class="bag_qty">QTY:</div>
        <button class="card_button minus">-</button>
        <input type="number" value="${i}" class="card_quantity" data-price="${c}" disabled></input>
        <button class="card_button plus">+</button>
    </div></div>
    <div class="card_block_hidden">âœ–</div>
    </div>
    `,bagQuntity=document.querySelector(".bag_footer_itemquantity span"),bagHeadquntity=document.querySelector(".bag_quantity_item"),pricequantity=()=>{var e=document.querySelector(".block__cards").children.length;basketcardQuantity.textContent=e,bagQuntity.textContent=`(${e} items)`,bagHeadquntity.textContent=e+" items",0<e?basketcardQuantity.classList.add("activ"):basketcardQuantity.classList.remove("activ")},initialState=()=>{null!==localStorage.getItem("product")&&(document.querySelector(".block__cards").innerHTML=localStorage.getItem("product"),pricequantity())},updateStorege=(initialState(),()=>{let e=document.querySelector(".block__cards").innerHTML;(e=e.trim()).length?localStorage.setItem("product",e):localStorage.removeItem("product")}),triggerItem=(productBtn.forEach(e=>{e.closest(".product_previy").setAttribute("data-id",randomId()),e.addEventListener("click",e=>{e.preventDefault();var e=e.currentTarget,t=e.closest(".product_previy"),r=t.dataset.id,a=t.querySelector(".gallery-slide img").getAttribute("src"),c=t.querySelector(".previy_block1_title").textContent,i=t.querySelector(".previy_block1_price").textContent,l=t.querySelector(".card_quantity").value,t=t.dataset.price;document.querySelector(".block__cards").insertAdjacentHTML("afterbegin",generateCardProduct(a,c,i,r,t,l)),pricequantity(),updateStorege(),e.disabled=!0})}),document.querySelectorAll(".tabs-trigger__item").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();e=e.target.getAttribute("href").replace("#","");document.querySelectorAll(".tabs-trigger__item").forEach(e=>e.classList.remove("tabs-trigger__item--activ")),document.querySelectorAll(".tabs-content__item").forEach(e=>e.classList.remove("tabs-content__item--activ")),t.classList.add("tabs-trigger__item--activ"),document.getElementById(e).classList.add("tabs-content__item--activ")})}),document.querySelector(".tabs-trigger__item").click(),document.querySelectorAll(".tabs-trigger__item")),txtBtn=(triggerItem.forEach(e=>{e.addEventListener("click",e=>{var t,r,e=e.target,a=document.querySelectorAll(".tabs-txt__item");for(t of document.querySelectorAll(".tabs-trigger__block"))t.classList.remove("activ");for(r of a)r.classList.remove("activ");e.closest(".tabs-trigger__block").classList.add("activ")})}),document.getElementById("dotsbtn")),ratings=(txtBtn.addEventListener("click",()=>{var e=document.querySelector(".more"),t=document.querySelector(".dots");e.classList.toggle("activ"),t.classList.toggle("activ")}),document.querySelectorAll(".rating"));function initRatings(){let t,c;for(let e=0;e<ratings.length;e++){var r=ratings[e];i(r=r),l(),r.classList.contains("rating_set")&&function(r){var e=r.querySelectorAll(".rating_item");for(let t=0;t<e.length;t++){const a=e[t];a.addEventListener("mouseenter",function(e){i(r),l(a.value)}),a.addEventListener("mouseleave",function(e){l()}),a.addEventListener("click",function(e){i(r),r.dataset.ajax?setRatingValue(a.value,r):(c.innerHTML=t+1,l())})}}(r)}function i(e){t=e.querySelector(".rating_activ"),c=e.querySelector(".rating_value")}function l(e=c.innerHTML){e/=.05;t.style.width=e+"%"}}0<ratings.length&&initRatings();const commentButoon=document.getElementById("commetButton"),form=document.querySelector(".comment__form");function generateComment(e,t,r,a,c,i){return`<div class="comment_block">
  <div class="comment_comment">
      <div class="comment_name">${r}<span>${a}</span></div>
      <div class="comment_stars"><div class="rating rating_set">
      <div class="rating__body">
          <div class="rating_activ" style="width: ${c}%"></div>
          <div class="rating_items">
              <input type="radio" class="rating_item" value="1" name="rating">
              <input type="radio" class="rating_item" value="2" name="rating">
              <input type="radio" class="rating_item" value="3" name="rating">
              <input type="radio" class="rating_item" value="4" name="rating">
              <input type="radio" class="rating_item" value="5" name="rating">
          </div>
      </div>
      <div class="rating_value">${i}</div>
  </div></div>
      <div class="comment_text">${e}</div>
  </div>
</div>`}commentButoon.addEventListener("click",e=>{e.preventDefault();var e=form.querySelector(".comment_text").value,t=form.querySelector(".comment_email").value,r=form.querySelector(".comment_name").value,a=(new Date).getDate();let c=(new Date).getMonth();var i=(new Date).getFullYear(),l=document.getElementById("checkbox"),o=document.querySelector(".tab3_review"),o=(ratValue(o),value/.05);l.checked?(""==r&&alert("Enter Name"),validateEmail(t),validateEmail(t)?(form.querySelector(".comment_email").style.borderColor="red",11==(c=10==(c=9==(c=8==(c=7==(c=6==(c=5==(c=4==(c=3==(c=2==(c=1==(c=0==c?"January,":c)?"February,":c)?"March,":c)?"April,":c)?"May,":c)?"June,":c)?"July,":c)?"August,":c)?"September,":c)?"October,":c)?"November,":c)&&(c="December,"),""==e.trim()?alert("Comment is empty"):(l=String(a)+" "+String(c)+" "+String(i),document.querySelector(".all__comment").insertAdjacentHTML("afterbegin",generateComment(e,t,r,l,o,value)),qualityComment())):alert("wrong email")):alert("Need to agree")});let value;const ratValue=e=>{var t;for(t of e.querySelectorAll("input"))t.checked&&(value=t.value)},validateEmail=e=>e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),qualityComment=()=>{var e=document.querySelector(".quantity_comment").querySelectorAll(".comment_block"),t=document.querySelector(".reviews_quantity span"),r=document.querySelector(".comment_head span"),a=document.querySelector(".comment_head div"),c=document.querySelector(".previy_block1_title");a.textContent=c.textContent,t.textContent=e.length,r.textContent=e.length},bag=(qualityComment(),document.querySelector(".basket")),bagBlock=document.querySelector(".bag"),bagItem=(document.addEventListener("click",e=>{e=e.target;e.closest(".fuck_basket")?bagBlock.classList.add("activ"):e.closest(".card_block_hidden")||e.closest(".bag")||bagBlock.classList.remove("activ")}),document.querySelector(".block__cards"));bagItem.addEventListener("click",e=>{"card_block_hidden"==e.target.className&&(e.target.closest(".basket_card_item").remove(),updateStorege(),pricequantity())});