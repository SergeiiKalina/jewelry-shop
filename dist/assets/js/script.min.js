const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobike/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function ready(){for(let e=0;e<nav.children.length;e++)nav.children[e].getAttribute("data-sale")&&(nav.children[e].children[0].children[1].style.display="flex",nav.children[e].children[0].children[1].innerHTML=`- ${nav.children[e].getAttribute("data-sale")}%`)}isMobile.any()?document.body.classList.add("touch"):document.body.classList.add("pc"),document.addEventListener("DOMContentLoaded",ready);const burger=document.querySelector(".menu__icon"),header=(burger.addEventListener("click",()=>{var e=document.querySelector(".menu__body");document.body.classList.toggle("lock"),e.classList.toggle("hidden"),burger.classList.toggle("activ"),e.classList.toggle("activ")}),document.querySelector(".header__block")),subMenu=document.querySelector(".menu__sublist_block"),shop=document.getElementById("shop"),slider=document.querySelector(".swiper-wrapper"),listItem=(shop.addEventListener("click",()=>{}),document.addEventListener("click",e=>{e=e.target;e.closest(".menu__sublist")?(subMenu.classList.add("activ"),header.classList.add("activ"),slider.classList.add("activ"),shop.classList.add("activ")):e.closest(".menu__sublist_block")||e.closest(".menu__sublist_block")||(subMenu.classList.remove("activ"),header.classList.remove("activ"),slider.classList.remove("activ"),shop.classList.remove("activ"))}),document.querySelectorAll(".target")),menu=document.getElementById("menu");function cardGeneration(t){var a=[];for(let e=0;e<t.length;e++)a.push(`<div class="product_block_item" data-price="${t[e].price}" data-category="${t[e].category}" data-brands="${t[e].brands}">
            <div class="product__block_img"><img src=${t[e].pictures}>
                <div class="product__hover">
                <button>ADD TO CART</button>
            </div>
            <div class="proudct__focus">
                <div class="product__focus_img">
                 <div class="focus_img_bascet">
                     <img src="assets/images/icon/basket_icon_black.png" alt="">
                     <div class="focus_img_circle">
                         <div class="focus_img_circle1"></div><div class="focus_img_circle1"></div>
                     </div>
                 </div>
                 <a href="product.html"><div class="focus_img_eys">
                    <img src="assets/images/icon/eys.png" alt="">
                        <div class="eys_circle"></div>
                 </div></a>
                 <div class="focus_img_heart">
                    <img src="assets/images/icon/heart.png" alt="">
                 </div>
                </div>
             </div></div>
            <p class="product_block_item_name">${t[e].title}</p>
            <p class="product_block_item_price">${t[e].cost}</p>
        </div>`);return a}menu.addEventListener("click",e=>{for(var t of listItem)t.classList.remove("underline");var a=e.target;"SPAN"==e.target.tagName&&a.classList.add("underline")}),document.addEventListener("click",e=>{if("SPAN"!=e.target.tagName)for(var t of listItem)t.classList.remove("underline")}),new Swiper(".container-slider",{pagination:{el:".swiper-pagination",clickable:!0},autoHeight:!0,autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1}});const cardArr=cardGeneration(cardsData),basketcardQuantity=(nav.innerHTML=cardArr.join(""),document.querySelector(".basket_quantity")),productBtn=document.querySelectorAll(".product__hover button"),cardProductList=document.querySelector(".cards_body_block"),basketcard=document.querySelector(".basket"),randomId=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),generateCardProduct=(e,t,a,c,i)=>`
    <div class="basket_card_item" data-id="${c}">
    <div class="basket_card_img"><img src="${e}" alt="" width='136' hight='136'></div>
    <div class="basket_card_nameandvalue">
    <div class="basket_card_value">
        <div class="basket_card_name">${t}</div>
        <div class="basket_card_params">Black / Medium</div>
        <div class="basket_card_price">${a}</div>
    </div>
    <div class="basket-card_quantity">
    <div class="bag_qty">QTY:</div>
        <button class="card_button minus">-</button>
        <input type="number" value="1" class="card_quantity" data-price="${i}" disabled></input>
        <button class="card_button plus">+</button>
    </div></div>
    <div class="card_block_hidden">✖</div>
    </div>
    `,bagQuntity=document.querySelector(".bag_footer_itemquantity span"),bagHeadquntity=document.querySelector(".bag_quantity_item"),pricequantity=()=>{var e=document.querySelector(".block__cards").children.length;basketcardQuantity.textContent=e,bagQuntity.textContent=`(${e} items)`,bagHeadquntity.textContent=e+" items",0<e?basketcardQuantity.classList.add("activ"):basketcardQuantity.classList.remove("activ")},initialState=()=>{null!==localStorage.getItem("product")&&(document.querySelector(".block__cards").innerHTML=localStorage.getItem("product"),pricequantity())},updateStorege=(initialState(),()=>{let e=document.querySelector(".block__cards").innerHTML;(e=e.trim()).length?localStorage.setItem("product",e):localStorage.removeItem("product")}),bag=(productBtn.forEach(e=>{e.closest(".product_block_item").setAttribute("data-id",randomId()),e.addEventListener("click",e=>{e.preventDefault();var e=e.currentTarget,t=(console.log(e),e.closest(".product_block_item")),a=t.dataset.id,c=t.querySelector(".product__block_img img").getAttribute("src"),i=t.querySelector(".product_block_item_name").textContent,s=t.querySelector(".product_block_item_price").textContent,t=t.dataset.price;document.querySelector(".block__cards").insertAdjacentHTML("afterbegin",generateCardProduct(c,i,s,a,t)),pricequantity(),updateStorege(),e.disabled=!0})}),document.querySelector(".basket")),bagBlock=document.querySelector(".bag"),bagItem=(document.addEventListener("click",e=>{e=e.target;e.closest(".fuck_basket")?bagBlock.classList.add("activ"):e.closest(".card_block_hidden")||e.closest(".bag")||bagBlock.classList.remove("activ")}),document.querySelector(".block__cards")),getSubTotalCost=(bagItem.addEventListener("click",e=>{"card_block_hidden"==e.target.className&&(e.target.closest(".basket_card_item").remove(),updateStorege(),pricequantity())}),e=>Number(e.value)*Number(e.dataset.price)),totaPriceWrapper=document.querySelector(".bag_footer_totalcost"),ACTION={PLUS:"plus",MINUS:"minus"},setTotalPrice=e=>{totaPriceWrapper.textContent=`$${e},00`,totaPriceWrapper.dataset.value=e},init=()=>{let t=0;[...document.querySelectorAll(".basket_card_item")].forEach(e=>{t+=getSubTotalCost(e.querySelector(".card_quantity"))}),setTotalPrice(t)},calcSeparItem=(e,t)=>{var a=e.querySelector(".card_quantity");switch(t){case ACTION.PLUS:a.value++,a.value=a.value,console.log(a.value),setTotalPrice(Number(totaPriceWrapper.dataset.value)+Number(a.dataset.price));break;case ACTION.MINUS:a.value--,setTotalPrice(Number(totaPriceWrapper.dataset.value)-Number(a.dataset.price))}e.querySelector(".basket_card_price").textContent=`$${getSubTotalCost(a)},00`};document.querySelector(".block__cards").addEventListener("click",e=>{var t;e.target.classList.contains("minus")&&(t=e.target.closest(".basket_card_item").querySelector(".card_quantity"),0!==Number(t.value))&&calcSeparItem(e.target.closest(".basket_card_item"),ACTION.MINUS),e.target.classList.contains("plus")&&calcSeparItem(e.target.closest(".basket_card_item"),ACTION.PLUS)});let searchValue="";const search=document.querySelector(".search_block a"),searchInput=document.querySelector(".search_block input");function fulterSearch(){var e=cardGeneration(cardsData.filter(e=>{return!!new RegExp(searchValue,"i").test(e.title)}));nav.innerHTML=e.join("")}searchInput.oninput=function(e){searchValue=e.target.value},search.addEventListener("click",e=>{e.preventDefault(),fulterSearch()});const searchButton=document.querySelector(".search__img"),allImgProduct=(searchButton.addEventListener("click",()=>{document.querySelector(".search_block").classList.toggle("activ")}),document.querySelectorAll(".product_block_item")),generateCardProductHtml=(allImgProduct.forEach(e=>{e.addEventListener("click",()=>{allImgProduct.forEach(e=>{e.querySelector(".proudct__focus").classList.remove("activ")}),e.querySelector(".proudct__focus").classList.add("activ")})}),function(e,t,a,c,i){return`<div class="slider__swiper_block">
    <div class="swiper">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
          <!-- Slides -->
          <div class="swiper-slide"><img src="${e}" alt=""></div>
          <div class="swiper-slide"><img src="${e}" alt=""></div>
          <div class="swiper-slide"><img src="${e}" alt=""></div>
          <div class="swiper-slide"><img src="${e}" alt=""></div>
        </div>
        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>
        <div class="swiper-scrollbar"></div>
      </div>
</div>
<div class="previy__card_block">
    <main class="product_previy" data-price="${i}" id='${c}'>
        <div class="product_previy_block1">
      <div class="block1__previy">
       <div class="block1__previy_img"><img src="${e}" alt=""></div> 
       <div class="block1__previy_img"><img src="${e}" alt=""></div> 
       <div class="block1__previy_img"><img src="${e}" alt=""></div> 
       <div class="block1__previy_img"><img src="${e}" alt=""></div> 
      </div>
      <div class="block1__img_veiw">
        <div class="gallery-slide"><img src="${e}" alt=""></div>
        <div class="gallery-slide_progres"><div class="gallery_progress"></div></div>
      </div>
            <div class="previy_block1_info">
                <div class="previy_block1_title">${t}</div>
                <div class="previy_block1_price"><div>${a}</div><div><img src="assets/images/icon/free-icon-share-icon-2524284.png" alt="" class="previy_block1_price_img"></div></div>
                <div class="previy_block1_stars"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span><p>1 customer review</p></div>
                <div class="previy_block1_txt">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam placerat,
                <span class="dots">...</span><span class="more">augue a volutpat hendrerit, sapien tortor faucibus augue, a maximus elit ex vitae libero.
                     Sed quis mauris eget arcu facilisis consequat sed eu felis.</span> </div>
                     <button id="dotsbtn">View more</button>
                <div class="previy_block1_addbasket">
                    <div class="previy_block1_input previy_product_hidden"><button class="card_button minus">-</button>
                        <input type="number" value="1" class="card_quantity" data-price="${i}" disabled></input>
                        <button class="card_button plus">+</button>
                    
                </div>
                <div class="previy_block1_button"><a href="">ADD TO CART</a></div></div>
                <div class="previy_block1_social">
                    <div><img src="assets/images/icon/miniheart.png" alt=""></div>
                    <div class="previy_block1_social_bordeer"></div>
                    <div><img src="assets/images/icon/Icon color.png" alt=""></div>
                    <div><img src="assets/images/footer/social/facebook.png" alt=""></div>
                    <div><img src="assets/images/footer/social/instagram.png" alt=""></div>
                    <div><img src="assets/images/footer/social/tweter.png" alt=""></div>
                </div>
                <div class="previy_block1_quantity"><p>SKU:</p><span>12</span></div>
                <div class="previy_block1_categoty"><p>Categories:</p><span>Fashion, Style</span></div>
            </div>
        </div>
    </main>

</div>`}),eys=document.querySelectorAll(".focus_img_eys"),upStorege=(eys.forEach(e=>{e.addEventListener("click",e=>{localStorage.removeItem("item");var e=e.currentTarget.closest(".product_block_item"),t=e.dataset.id,a=e.querySelector(".product__block_img img").getAttribute("src"),c=e.querySelector(".product_block_item_name").textContent,i=e.querySelector(".product_block_item_price").textContent,e=e.dataset.price;document.querySelector(".hidden_product_block").insertAdjacentHTML("afterbegin",generateCardProductHtml(a,c,i,t,e)),upStorege()})}),()=>{let e=document.querySelector(".hidden_product_block").innerHTML;(e=e.trim()).length&&localStorage.setItem("item",e)}),sublistBtn=(blog.addEventListener("click",()=>{document.querySelector(".blog_sublist").classList.toggle("activ")}),document.querySelectorAll(".subblist_button"));sublistBtn.forEach(e=>{e.addEventListener("click",e=>{e=e.target;e.closest(".blog_standard")&&(document.querySelector(".post_sublist").classList.remove("activ"),document.querySelector(".standard_sublist").classList.add("activ")),e.closest(".blog_post")&&(document.querySelector(".standard_sublist").classList.remove("activ"),document.querySelector(".post_sublist").classList.add("activ"))})}),document.querySelector(".fuck_basket").addEventListener("click",init());