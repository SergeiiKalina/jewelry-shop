const commentButoon=document.getElementById("blogCommentsButton"),form=document.querySelector(".blog_commens_form");function generateComment(e,t,o,m){return`
<div class="post_block_comments_comment">
                    <div class="post_supcomment">
                    <div class="post_comments_comment_img"><img src="assets/images/body/blog/avatar/Img 03 (1).png" alt=""></div>
                    <div class="post_comments_comment_txt">
                        <div class="post_comments_comment_txt_block">
                            <div class="post_comments_comment_txt_title">
                                <div class="post_comments_comment_txt_title_user">
                            <div class="post_comments_comment_txt_title_name">${o}</div>
                           
                        </div>
                        <div class="post_subcomment_block">
                        <div class="post_comments_comment_txt_title_date">${m}</div>
                            <div class="post_comments_comment_txt_reply_button"><button onclick="showSubForm(this)">Reply</button></div></div>
                        </div>
                    </div>
                    <div class="post_comments_comment_txt_content">${e}</div>
                    <div class="reply_block"><div class="reply_block_form"><img src="assets/images/body/blog/avatar/Img 03 (1).png" alt=""><input type="text" placeholder="sometext..."></div><div class="reply_block_button"><button data-subreply="subreply" onclick="sendSubComment(this)">Send</button></div></div>
                    </div></div>
                    <div class="post_subcomments_block"></div>
                </div>

`}commentButoon.addEventListener("click",e=>{e.preventDefault();var e=form.querySelector(".form_comments_comment"),t=form.querySelector(".form_comments_email"),o=form.querySelector(".form_comments_name"),m=form.querySelector(".form_comments_website"),c=(new Date).getDate();let s=(new Date).getMonth();var l=(new Date).getFullYear(),n=document.getElementById("checkboxComment");n.checked?(""==o&&alert("Enter Name"),validateEmail(t),validateEmail(t)?(form.querySelector(".form_comments_email").style.borderColor="red",11==(s=10==(s=9==(s=8==(s=7==(s=6==(s=5==(s=4==(s=3==(s=2==(s=1==(s=0==s?"January,":s)?"February,":s)?"March,":s)?"April,":s)?"May,":s)?"June,":s)?"July,":s)?"August,":s)?"September,":s)?"October,":s)?"November,":s)&&(s="December,"),""==e.value.trim()?alert("Comment is empty"):(c=String(c)+" "+String(s)+" "+String(l),document.querySelector(".post_block_comments").insertAdjacentHTML("beforeend",generateComment(e.value,t.value,o.value,c)),e.value="",o.value="",t.value="",m.value="",n.checked=!1,qualityComment())):alert("wrong email")):alert("Need to agree")});const validateEmail=e=>e.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),qualityComment=()=>{var e=document.querySelector(".post_block_comments"),t=e.querySelectorAll(".post_block_comments_comment"),e=e.querySelectorAll(".post_block_comments_comment_subcomment");document.querySelector(".post_block_comments_quantity span").textContent=t.length+e.length},formName=(qualityComment(),document.querySelector(".form_comments_name"));formName.oninput=function(){this.value=this.value.substr(0,15)};let reply=document.querySelectorAll(".post_comments_comment_txt_reply_button button");const subCommentSend=document.querySelectorAll(".reply_block_button button");function showSubForm(e){(e.dataset.reply?e.closest(".post_supcomment_subcomment"):e.closest(".post_supcomment")).querySelector(".reply_block").classList.toggle("activ")}function sendSubComment(e){var t=(new Date).getDate();let o=(new Date).getMonth();var m,c,s=(new Date).getFullYear(),t=(11==(o=10==(o=9==(o=8==(o=7==(o=6==(o=5==(o=4==(o=3==(o=2==(o=1==(o=0==o?"January,":o)?"February,":o)?"March,":o)?"April,":o)?"May,":o)?"June,":o)?"July,":o)?"August,":o)?"September,":o)?"October,":o)?"November,":o)&&(o="December,"),String(t)+" "+String(o)+" "+String(s));e.dataset.subreply?(c=(s=e.closest(".post_block_comments_comment")).querySelector(".reply_block_form input"),m=s.querySelector(".post_comments_comment_img img").src,s.querySelector(".post_subcomments_block").insertAdjacentHTML("beforeend",generatorSubComment(c.value,m,t)),c.value="",document.querySelectorAll(".reply_block").forEach(e=>e.classList.remove("activ"))):(m=(s=e.closest(".post_block_comments_comment_subcomment")).querySelector(".reply_block_form input"),c=s.querySelector(".post_comments_subcomment_img img").src,s.closest(".post_subcomments_block").insertAdjacentHTML("beforeend",generatorSubComment(m.value,c,t)),m.value="",document.querySelectorAll(".reply_block").forEach(e=>e.classList.remove("activ")))}subCommentSend.forEach(l=>{l.addEventListener("click",()=>{var e=(new Date).getDate();let t=(new Date).getMonth();var o,m=(new Date).getFullYear(),e=(11==(t=10==(t=9==(t=8==(t=7==(t=6==(t=5==(t=4==(t=3==(t=2==(t=1==(t=0==t?"January,":t)?"February,":t)?"March,":t)?"April,":t)?"May,":t)?"June,":t)?"July,":t)?"August,":t)?"September,":t)?"October,":t)?"November,":t)&&(t="December,"),String(e)+" "+String(t)+" "+String(m)),m=l.closest(".post_block_comments_comment"),c=m.querySelector(".post_subcomments_block"),s=m.querySelector(".reply_block_form input"),m=m.querySelector(".post_comments_comment_img img").src;l.dataset.subreply&&(o=l.closest(".post_block_comments_comment_subcomment").querySelector(".reply_block_form input"),c.insertAdjacentHTML("beforeend",generatorSubComment(o.value,m,e)),document.querySelectorAll(".reply_block").forEach(e=>e.classList.remove("activ")),o.value="",qualityComment()),l.dataset.subreply||(c.insertAdjacentHTML("beforeend",generatorSubComment(s.value,m,e)),s.value="",document.querySelectorAll(".reply_block").forEach(e=>e.classList.remove("activ")),qualityComment())})});const generatorSubComment=(e,t,o)=>`<div class="post_block_comments_comment_subcomment">
<div class="post_supcomment post_supcomment_subcomment">
<div class="post_comments_subcomment_img"><img src="${t}" alt=""></div>
<div class="post_comments_subcomment_txt">
<div class="post_comments_subcomment_txt_block">
    <div class="post_comments_comment_txt_title">
        <div class="post_comments_comment_txt_title_user">
    <div class="post_comments_comment_txt_title_name">Kate moss</div>
</div>
<div class="post_subcomment_block">
<div class="post_comments_comment_txt_title_date">${o}</div>
    <div class="post_comments_comment_txt_reply_button"><button data-reply="reply" onclick="showSubForm(this)">Reply</button></div></div>
</div>

</div>
<div class="post_comments_subcomment_txt_content">${e}</div>
<div class="reply_block"><div class="reply_block_form">
<img src="assets/images/body/blog/avatar/Img 03 (1).png" alt=""><input type="text" placeholder="sometext..."></div>
<div class="reply_block_button"><button onclick="sendSubComment(this)">Send</button></div></div>
</div></div>
</div>`;for(let e of reply)e.addEventListener("click",()=>{e.dataset.reply&&e.closest(".post_block_comments_comment_subcomment").querySelector(".reply_block").classList.toggle("activ"),e.dataset.reply||e.closest(".post_block_comments_comment").querySelector(".reply_block").classList.toggle("activ")});